<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuickShop - Admin Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Admin Specific Styles */
        .admin-container {
            min-height: 100vh;
            background: linear-gradient(135deg, #1a237e 0%, #283593 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .login-box {
            background: white;
            border-radius: 10px;
            padding: 40px;
            width: 100%;
            max-width: 400px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
        }
        
        .login-box h2 {
            text-align: center;
            margin-bottom: 30px;
            color: #333;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 500;
        }
        
        .form-group input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            transition: border 0.3s;
        }
        
        .form-group input:focus {
            border-color: #ff9900;
            outline: none;
        }
        
        .login-btn {
            width: 100%;
            padding: 12px;
            background: #ff9900;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 10px;
            transition: background 0.3s;
        }
        
        .login-btn:hover {
            background: #e68900;
        }
        
        .error-message {
            color: #e74c3c;
            text-align: center;
            margin-top: 10px;
            display: none;
        }
        
        /* Admin Dashboard */
        .admin-dashboard {
            display: none;
            min-height: 100vh;
            background: #f5f5f5;
        }
        
        .admin-header {
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .admin-header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 20px;
        }
        
        .admin-logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 20px;
            color: #333;
            font-weight: 600;
        }
        
        .admin-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .shop-link {
            display: flex;
            align-items: center;
            gap: 8px;
            background: #25D366;
            color: white;
            padding: 8px 15px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: 600;
        }
        
        .logout-btn {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
        }
        
        .admin-main {
            padding: 30px 20px;
        }
        
        .stats-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            text-align: center;
        }
        
        .stat-card h3 {
            color: #666;
            font-size: 14px;
            margin-bottom: 10px;
            text-transform: uppercase;
        }
        
        .stat-card .number {
            font-size: 32px;
            font-weight: 700;
            color: #1a237e;
        }
        
        .orders-container {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
        }
        
        .orders-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .orders-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .orders-table th {
            background: #f8f9fa;
            padding: 15px;
            text-align: left;
            border-bottom: 2px solid #e9ecef;
            color: #495057;
            font-weight: 600;
        }
        
        .orders-table td {
            padding: 15px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .order-status {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            display: inline-block;
        }
        
        .status-pending {
            background: #fff3cd;
            color: #856404;
        }
        
        .status-confirmed {
            background: #d1ecf1;
            color: #0c5460;
        }
        
        .status-delivered {
            background: #d4edda;
            color: #155724;
        }
        
        .action-btn {
            padding: 6px 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
        }
        
        .view-btn {
            background: #3498db;
            color: white;
        }
        
        @media (max-width: 768px) {
            .stats-cards {
                grid-template-columns: 1fr;
            }
            
            .orders-table {
                display: block;
                overflow-x: auto;
            }
        }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div class="admin-container" id="loginScreen">
        <div class="login-box">
            <h2><i class="fas fa-user-shield"></i> Admin Login</h2>
            <div class="form-group">
                <label for="adminUsername">Username</label>
                <input type="text" id="adminUsername" placeholder="Enter admin username">
            </div>
            <div class="form-group">
                <label for="adminPassword">Password</label>
                <input type="password" id="adminPassword" placeholder="Enter password">
            </div>
            <button class="login-btn" id="loginBtn">Login to Dashboard</button>
            <div class="error-message" id="loginError">Invalid credentials!</div>
            
            <div style="margin-top: 25px; text-align: center; padding-top: 20px; border-top: 1px solid #eee;">
                <p style="color: #666; font-size: 14px; margin-bottom: 10px;">Need help?</p>
                <a href="https://wa.me/917643806356" class="shop-link" target="_blank" style="display: inline-flex;">
                    <i class="fab fa-whatsapp"></i> Contact Admin via WhatsApp
                </a>
            </div>
        </div>
    </div>

    <!-- Admin Dashboard -->
    <div class="admin-dashboard" id="adminDashboard">
        <header class="admin-header">
            <div class="admin-header-content">
                <div class="admin-logo">
                    <i class="fas fa-chart-line"></i>
                    <span>QuickShop Dashboard</span>
                </div>
                <div class="admin-actions">
                    <a href="index.html" class="shop-link">
                        <i class="fas fa-store"></i> Go to Shop
                    </a>
                    <button class="logout-btn" id="logoutBtn">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </div>
        </header>

        <main class="admin-main container">
            <!-- Statistics Cards -->
            <div class="stats-cards">
                <div class="stat-card">
                    <h3>Total Orders</h3>
                    <div class="number" id="totalOrders">12</div>
                </div>
                <div class="stat-card">
                    <h3>Pending Orders</h3>
                    <div class="number" id="pendingOrders">3</div>
                </div>
                <div class="stat-card">
                    <h3>Total Revenue</h3>
                    <div class="number" id="totalRevenue">₹45,280</div>
                </div>
                <div class="stat-card">
                    <h3>Today's Orders</h3>
                    <div class="number" id="todaysOrders">2</div>
                </div>
            </div>

            <!-- Orders Table -->
            <div class="orders-container">
                <div class="orders-header">
                    <h2>Recent Orders</h2>
                    <select id="orderFilter" style="padding: 8px 12px; border-radius: 5px; border: 1px solid #ddd;">
                        <option value="all">All Orders</option>
                        <option value="pending">Pending</option>
                        <option value="confirmed">Confirmed</option>
                        <option value="delivered">Delivered</option>
                    </select>
                </div>
                
                <div class="table-responsive">
                    <table class="orders-table">
                        <thead>
                            <tr>
                                <th>Order ID</th>
                                <th>Customer</th>
                                <th>Date</th>
                                <th>Amount</th>
                                <th>Status</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="ordersTableBody">
                            <!-- Orders loaded by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Admin Panel JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            const ADMIN_CREDENTIALS = {
                username: 'admin',
                password: 'admin123'
            };

            // Login functionality
            const loginBtn = document.getElementById('loginBtn');
            const logoutBtn = document.getElementById('logoutBtn');
            const loginScreen = document.getElementById('loginScreen');
            const adminDashboard = document.getElementById('adminDashboard');
            const loginError = document.getElementById('loginError');

            // Check if already logged in
            if (localStorage.getItem('adminLoggedIn') === 'true') {
                showDashboard();
            }

            // Login button click
            loginBtn.addEventListener('click', function() {
                const username = document.getElementById('adminUsername').value.trim();
                const password = document.getElementById('adminPassword').value;

                if (username === ADMIN_CREDENTIALS.username && password === ADMIN_CREDENTIALS.password) {
                    localStorage.setItem('adminLoggedIn', 'true');
                    localStorage.setItem('adminUsername', username);
                    showDashboard();
                } else {
                    loginError.style.display = 'block';
                    setTimeout(() => {
                        loginError.style.display = 'none';
                    }, 3000);
                }
            });

            // Logout button click
            logoutBtn.addEventListener('click', function() {
                localStorage.removeItem('adminLoggedIn');
                localStorage.removeItem('adminUsername');
                adminDashboard.style.display = 'none';
                loginScreen.style.display = 'flex';
                document.getElementById('adminUsername').value = '';
                document.getElementById('adminPassword').value = '';
            });

            function showDashboard() {
                loginScreen.style.display = 'none';
                adminDashboard.style.display = 'block';
                
                // Load orders from localStorage
                loadOrders();
                updateStats();
            }

            // Sample orders data
            const sampleOrders = [
                {
                    id: 'ORD-1001',
                    customer: 'Rahul Sharma',
                    phone: '+91 9876543210',
                    address: 'Mumbai, Maharashtra',
                    date: '2023-10-15',
                    amount: 4699,
                    status: 'pending',
                    items: [
                        { name: 'Safari Pentagon Backpack', price: 4699, quantity: 1 }
                    ]
                },
                {
                    id: 'ORD-1002',
                    customer: 'Priya Patel',
                    phone: '+91 8765432109',
                    address: 'Delhi, NCR',
                    date: '2023-10-14',
                    amount: 6099,
                    status: 'confirmed',
                    items: [
                        { name: 'Safari Thorium Backpack', price: 6099, quantity: 1 }
                    ]
                },
                {
                    id: 'ORD-1003',
                    customer: 'Amit Kumar',
                    phone: '+91 7654321098',
                    address: 'Bangalore, Karnataka',
                    date: '2023-10-13',
                    amount: 12999,
                    status: 'delivered',
                    items: [
                        { name: 'Wireless Headphones', price: 2499, quantity: 1 },
                        { name: 'Smart Watch', price: 3999, quantity: 1 },
                        { name: 'Mobile Case', price: 499, quantity: 2 }
                    ]
                }
            ];

            function loadOrders() {
                const tbody = document.getElementById('ordersTableBody');
                tbody.innerHTML = '';

                // Get orders from localStorage or use sample
                const orders = JSON.parse(localStorage.getItem('customerOrders')) || sampleOrders;

                orders.forEach(order => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${order.id}</td>
                        <td>
                            <strong>${order.customer}</strong><br>
                            <small>${order.phone}</small>
                        </td>
                        <td>${order.date}</td>
                        <td>₹${order.amount.toLocaleString()}</td>
                        <td>
                            <span class="order-status status-${order.status}">
                                ${order.status.charAt(0).toUpperCase() + order.status.slice(1)}
                            </span>
                        </td>
                        <td>
                            <button class="action-btn view-btn" onclick="viewOrder('${order.id}')">
                                <i class="fas fa-eye"></i> View
                            </button>
                        </td>
                    `;
                    tbody.appendChild(row);
                });
            }

            function updateStats() {
                const orders = JSON.parse(localStorage.getItem('customerOrders')) || sampleOrders;
                
                document.getElementById('totalOrders').textContent = orders.length;
                document.getElementById('pendingOrders').textContent = 
                    orders.filter(o => o.status === 'pending').length;
                
                const totalRevenue = orders.reduce((sum, order) => sum + order.amount, 0);
                document.getElementById('totalRevenue').textContent = `₹${totalRevenue.toLocaleString()}`;
                
                const today = new Date().toISOString().split('T')[0];
                const todaysOrders = orders.filter(o => o.date === today).length;
                document.getElementById('todaysOrders').textContent = todaysOrders;
            }

            // Filter orders
            document.getElementById('orderFilter').addEventListener('change', function() {
                const status = this.value;
                alert(`Filtering by: ${status}`);
                // Implement actual filtering here
            });

            // Make viewOrder function global
            window.viewOrder = function(orderId) {
                const orders = JSON.parse(localStorage.getItem('customerOrders')) || sampleOrders;
                const order = orders.find(o => o.id === orderId);
                
                if (order) {
                    let message = `Order Details:\n`;
                    message += `Order ID: ${order.id}\n`;
                    message += `Customer: ${order.customer}\n`;
                    message += `Phone: ${order.phone}\n`;
                    message += `Address: ${order.address}\n`;
                    message += `Date: ${order.date}\n`;
                    message += `Status: ${order.status}\n`;
                    message += `Amount: ₹${order.amount}\n\n`;
                    message += `Items:\n`;
                    order.items.forEach(item => {
                        message += `- ${item.name} x ${item.quantity} = ₹${item.price * item.quantity}\n`;
                    });
                    
                    alert(message);
                }
            };

            // Auto-refresh orders every 30 seconds
            setInterval(updateStats, 30000);
        });
    </script>
</body>
</html>
